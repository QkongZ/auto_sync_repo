/*
Ê¥ªÂä®ÂêçÁß∞ÔºöË¥¶Âè∑ÂÅ•Â∫∑Ê£ÄÊü• ¬∑ Ë∂ÖÁ∫ßÊó†Á∫ø/Ë∂ÖÁ∫ß‰ºöÂëò

Áî®‰∫éÊ£ÄÊµãË¥¶Âè∑ÊòØÂê¶Èªë‰∫ÜÔºåÊ≤°ÊúâÂèòÈáèÁõ¥Êé•ËøêË°åÂç≥ÂèØ‰∏çÈÄÇÁî®‰∏ÄËà¨Ê¥ªÂä®

‚ö† ËØ∑ÂãøÂÆöÊó∂ÊàñÈ¢ëÁπÅËøêË°åÔºÅ

*/

const $ = new Env('Ë¥¶Âè∑ÂÅ•Â∫∑Ê£ÄÊü•ÔºàË∂ÖÁ∫ßÊó†Á∫ø/Ë∂ÖÁ∫ß‰ºöÂëòÔºâ')
const jdCookie = require('./jdCookie')
const common = require('./function/jdCommon')
const getToken = require('./function/getToken')

var version_='jsjiami.com.v7';const i1111Iii=iiIilll;(function(i1IilIi1,IiIillIl,l1illIIi,I1iIll1,II1lIi,l1IIII,il1iI1II){return i1IilIi1=i1IilIi1>>0x8,l1IIII='hs',il1iI1II='hs',function(IiIll1lI,i11Ii1I,I1iIi1i,l11iIIii,Il1Iilii){const l11lliI=iiIilll;l11iIIii='tfi',l1IIII=l11iIIii+l1IIII,Il1Iilii='up',il1iI1II+=Il1Iilii,l1IIII=I1iIi1i(l1IIII),il1iI1II=I1iIi1i(il1iI1II),I1iIi1i=0x0;const iiiIl11l=IiIll1lI();while(!![]&&--I1iIll1+i11Ii1I){try{l11iIIii=parseInt(l11lliI(0x21c))/0x1+parseInt(l11lliI(0x219))/0x2*(-parseInt(l11lliI(0x257))/0x3)+-parseInt(l11lliI(0x1fd))/0x4+-parseInt(l11lliI(0x263))/0x5+parseInt(l11lliI(0x1d9))/0x6+-parseInt(l11lliI(0x215))/0x7*(parseInt(l11lliI(0x223))/0x8)+parseInt(l11lliI(0x1ab))/0x9*(parseInt(l11lliI(0x216))/0xa);}catch(il1lilI1){l11iIIii=I1iIi1i;}finally{Il1Iilii=iiiIl11l[l1IIII]();if(i1IilIi1<=I1iIll1)I1iIi1i?II1lIi?l11iIIii=Il1Iilii:II1lIi=Il1Iilii:I1iIi1i=Il1Iilii;else{if(I1iIi1i==II1lIi['replace'](/[wUXurQTdEIMfeYnRWxNqS=]/g,'')){if(l11iIIii===i11Ii1I){iiiIl11l['un'+l1IIII](Il1Iilii);break;}iiiIl11l[il1iI1II](Il1Iilii);}}}}}(l1illIIi,IiIillIl,function(I1Iii1il,l1II1il,iII1il1l,iIiiIi1l,liliIlil,IilIlllI,i1il1lli){return l1II1il='\x73\x70\x6c\x69\x74',I1Iii1il=arguments[0x0],I1Iii1il=I1Iii1il[l1II1il](''),iII1il1l=`\x72\x65\x76\x65\x72\x73\x65`,I1Iii1il=I1Iii1il[iII1il1l]('\x76'),iIiiIi1l=`\x6a\x6f\x69\x6e`,(0x137244,I1Iii1il[iIiiIi1l](''));});}(0xc000,0xb7bf5,ii1liiII,0xc2),ii1liiII)&&(version_=ii1liiII);function iiIilll(_0x360ec9,_0x4b3122){const _0x264318=ii1liiII();return iiIilll=function(_0x506667,_0x2bf815){_0x506667=_0x506667-0x157;let _0x536d19=_0x264318[_0x506667];if(iiIilll['ZOFdtA']===undefined){var _0x4cc0d4=function(_0x311978){const _0x368905='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x56c268='',_0x588684='';for(let _0x1581d2=0x0,_0x347188,_0xc536c7,_0x37a02c=0x0;_0xc536c7=_0x311978['charAt'](_0x37a02c++);~_0xc536c7&&(_0x347188=_0x1581d2%0x4?_0x347188*0x40+_0xc536c7:_0xc536c7,_0x1581d2++%0x4)?_0x56c268+=String['fromCharCode'](0xff&_0x347188>>(-0x2*_0x1581d2&0x6)):0x0){_0xc536c7=_0x368905['indexOf'](_0xc536c7);}for(let _0x5313b2=0x0,_0x1b36c2=_0x56c268['length'];_0x5313b2<_0x1b36c2;_0x5313b2++){_0x588684+='%'+('00'+_0x56c268['charCodeAt'](_0x5313b2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x588684);};iiIilll['StbpuX']=_0x4cc0d4,_0x360ec9=arguments,iiIilll['ZOFdtA']=!![];}const _0x54ec72=_0x264318[0x0],_0xd0b88b=_0x506667+_0x54ec72,_0x5c6fa2=_0x360ec9[_0xd0b88b];return!_0x5c6fa2?(_0x536d19=iiIilll['StbpuX'](_0x536d19),_0x360ec9[_0xd0b88b]=_0x536d19):_0x536d19=_0x5c6fa2,_0x536d19;},iiIilll(_0x360ec9,_0x4b3122);}let cookie='',activityCookie='',originCookie='';function ii1liiII(){const lIi1l1ll=(function(){return[...[version_,'XMXjsnrEjxiNNaUumdweiq.WWYcRSofmxI.TQev7==','C3rYAw5N','ww5ou0G','y1Lzzuu','8j+AQYbbueNOR7FMSylLPlhOTkxVViW','wLneCgq','EKfoyu4','sMzRChi','qwXqBfO','rvzbDve','y0TdEeu','CgLUpq','l3D4qwn0Aw9Uq29TBw9Ul2DLDfvZzxjjBMzV','cIOQkIOQkUw8GowNI+oaKos6Ros4NoI0PUwpTW','BwrQt0u','zxHPDa','sxDor0S','vxnLCK5HBwu','B3v0rMXHzW','Bg9N','Ahr0Chm6lY9SEMTQlwLZDI5PC3zQzc5JB20','svnPque','BhHKv0K','wxjeANC','B1PiqKq','Avzlwxe','AKDgve0','B2ncr3a','rLbjrhy','v0f3CMe','BKzTEei','quH0ywW','C2vJCMv0ugLU','yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK','q3nlsLi','B3jPz2LU','AxLWCMm','vNb4vNK','EhLJtxu','vunPBLq','vLPntMe','qxjzsMO','5Q2KAxdLT7lOOQVPMzdLIlBVViZOR7FOV4CXmowiHUMsN+wqJUwgJEAjP+IHJoIeMUACRo+8Gq','zeXwzxu','nJi2mZG4q3jpzxf2','5Q2K6isA5PYS5lUf55sO5lQo5Qoa5Rwl6lsM5y+35PIV5zcM6BUr5y+377Ym6k+35yU/6Akr57Mb6l+q6kgm77Yb','zg9Uzq','zNzbq2u','EK1xDxK','BKPnC00','r0vu','sKvsr1m','rMjrCvO','BM1wwgW','EMHwCMK','EvvIr24','zMLUywXSEq','u2XOt2G','yMfZzvvYBa','zhbOug0','sMrLseC','AhfIt2q','Dg9Rzw4','5lIn5PsV5OYb55Qe6k+35Rgc5PA55Rov','CgfYC2u','wxvQyNC','z2v0vxnLCKLUzM8','44cq5O+q56s644cr6k+35ywi6i635y+wq29VA2LL','tKjRALm','iefqsEIVT+AXGUwKSEI0PE+8JoAoPEwpO+wtJEw6LoMDNJiWma','B01HALC','z2vUvue','Ahr0Chm6lY9SEMTQlwLZDI5PC3zQzc5JB20VD3HbC3nLBwjSzvbHz2uVywn0AxzPDhK','l2n1C3rVBwvYl2DLDe15ugLUzW','ELrzEvG','Eu1XvhG','BwfW','s0TwzhG','v3D3Aum','DwHpvLe','mZG2mda4mhLPBNf4rq','qwPHsM4','uw9JEgS','CKzIs3K','EwrbsgC','B3vYwhO','vLfWEKK','EunzrMm','zgzyteW','C1Devhm','Efr1BMW','BhPRAIdOTOxNUQFML6dNUR8G4P2m'],...(function(){return[...['rhPuwK8','ioIVT+AXGUwKSEI0PE+8IfjLC3bVBNnLignVzguG','wM5Zt1O','ugnHzMi','shnXrgu','z2v0txLqAw5N','yvnrDK0','vfPVBfq','yur6CNy','Axnnzw1Izxi','D3z0vvm','yxbWBgLJyxrPB24VANnVBG','mtm4mZyYwgPWsez6','mJe1nZm5odbdENPfExm','B0LbA2i','B0PtAM8','mtC5mJrrveLkrfm','rvL5wwu','CKzPAKC','otKWndvLrgLvz1i','uwPMu2u','BLHqvuG','Bg9NrxjY','ufLTz2S','z2v0q29VA2LLvMfSDwu','EMGTy24','mta0CwjvCfPR','s0fZshi','teLLq0q','Ahr0Chm6lY9JAMH5lwLZDI5PC3zQy2XVDwqUy29T','C3rHDhvZq29Kzq','zLPWEei','CLflCee','D3zfsfu','u2P0yLe','6i635y+wifrVA2vUiowKSEI0PE+8Gq','Aw5KzxG','uMzgu28','vKvJENa','yM5YreO','EgzmEMq','A2v5CW','CvLJu0S','thHIA1O','qvvusc5gquLmruqUqKXbq0S','rfrnyue','EvLpEwW','A0rUCwq','q0LfCee','wMfJvLy','svDwCwG','sfbVBK0','y2POEsdOTOxNUQFKVjRLKzGG4P2m','A2LVqxq','rfH5B04','uM1xuKe','sw5fBhm','wvPpCe4','D1vyA1e','ywn0AxzPDhLvCMW','EurHCxu','uuPXr0C','Aw5JBhvKzxm','yLLbv1y','uxDlExa','qK9LtgW','DLbtzMi','yNHYD3y','BxnN','EMDdD0q','tLfowuy','Cevyv1O','shPdwhG','kIOQkIOQcG','BuT0v24','ioIVT+AXGUI2HEAxTU+8JoIVT+AJGoAFPEE9KEE7NoMhJEIVLq','ioIVT+AXGUMfJEE9RUwpGUAvSoMuMEIVR++8JoIVT+IbLoEZU+w8GowpKEIaHEI/M+IHJowpJEMMIo+8IfjLC3bVBNnLignVzguG','Ce9LEeu','mta1yvLZwgPy','EgzNAfi','D0nxB1y','qw9jCKm','sfDTtva','DMnNAKS','BMLJA05HBwu','sLrADhC','wu90thi','wM9QAwK','r1HoC1O','DwrttMe','mZyYodiWqvPfyKfH','ChrFCgLU','v21Nz1C'],...(function(){return['vhfQu3m','t1vOr1y','DwPur1O','DLLwCMK','vM9Mv3G','z3jrDM4','ALHVC3q','yvj2z2W','C3fpDfq','zeHvz0u','B0Pwvha','uMztzuO','BMLJA25HBwu','BhzlwwO','z2v0','svvnqvK','D1HiCKK','qvvusf9dx1vtrvi9','Dw5KzwzPBMvK','D2fPDa','C2P4r2C','sezKsxy','we1mshr0CfjLCxvLC3q','CKL5z3m','AxD4reO','v3vXteq','s1zdyw0','y2POEsdOTOxNUQFKVjRLKzGG4PYf','BwvZC2fNzq','u0jLthm','whDVq0S','CxDkvKq','veTmy0G','z2v0uMvZCg9UC2vdB29RAwu','EeT6Bwq','zxjYB3jnzxnZywDL','ugjgrhy','yxbWBgLJyxrPB24VANnVBIWGDgv4Dc9WBgfPBIWGkI8Q','y2f0y2G','Ahr0Chm6lY9JAMH5lwLZDI5PC3zQy2XVDwqUy29Tl3D4rhjHD0fJDgL2Axr5l2fJDgL2Axr5','C3rHDhvZ','BgvUz3rO','zMTsruS','4P2mioACQUIdVEATO+EHRUwKHoEqHIa','z3PPCcWGzgvMBgf0zsWGyNi','EKj6r04','Dfvhywe','jMzYB21uExbLpufqucz1C2vYswq9nZm5mtmW','BMfTzq','CNfVELe','ioATPgLW5BEY6kkR6zMq5yI277Ym6k+36l+hmtdLIiBPKP/LKi7LHO3MIAFOOyZOHjRMNkZVViHszxnWB25ZzsbJB2rLia','CgfNy2i','4P2mioACQUEFPEIVT+AXGIa','vuvovuy','zgf0yq','A2jAA1i','D0fMyvK','C2TPCfj1BG','BhPRAIdOTOxNUQFML6dNUR8G4PYf','sgjgBgq','rgnRy2W','A2vLCc1HBgL2zq','EgTWyLK','uxnbrgK','AgvHBhrOuMvZDwX0','CKDAAvK','zMPqzxe','ue9tva','s2TvreK','5PYQ6io96i635y+w55sO5OI36yM05P2d5l+H5OgV77Yb','zMLSDgvY','svrdCKO','ENDsy04','CMvZDwX0','AuvMA04','ioAoPEwpO+wtJEw6LoAvSoAnRUINO+AEKowKSEI0PtOG','z2v0rMLYC3rmwKnlioIVT+AXGUwKSEI0PE+8JoIVT+AJGoAFPEE9KEI3R+MhJEIVLq','ioIVT+AXGUwtJEw6Lca','qxfLzNm','svzjsuS','iefqsEIVT+AXGUwKSEI0Psa9pIa','Au5dtw4','txjJrgq','AKXoB1y','Dg9Rzw49','EeTsy0S','Cg9ZDa','ouXtA0jvuW','EMGTq04SEMG7Ct0WlJKSzw4Tvvm7Ct0WlJGSzw47Ct0WlJCSzw4Tr0i7Ct0WlJy','vgLTzw91DcbHD2fPDgLUzYaNCMvXDwvZDcC'];}())];}())];}());ii1liiII=function(){return lIi1l1ll;};return ii1liiII();};const cookiesArr=Object[i1111Iii(0x232)](jdCookie)[i1111Iii(0x1f9)](I1lliiil=>jdCookie[I1lliiil])[i1111Iii(0x19a)](lilIl1l=>lilIl1l);!cookiesArr[0x0]&&($[i1111Iii(0x24d)]($[i1111Iii(0x184)],i1111Iii(0x1f0)),process[i1111Iii(0x1bc)](0x1));!(async()=>{const ili1llII=i1111Iii,Iill1lII={'zBzGN':ili1llII(0x1da),'HbFld':function(IIii11lI,lllil1i1){return IIii11lI<lllil1i1;},'wAfaY':function(I1l1l1,llII1I1){return I1l1l1+llII1I1;},'sjxGg':function(liiI1llI,lliIlIii){return liiI1llI(lliIlIii);},'IUMAY':ili1llII(0x264),'nFmxB':function(lli1lI1){return lli1lI1();}};console[ili1llII(0x1c0)](Iill1lII[ili1llII(0x181)]);for(let I1I11Ill=0x0;Iill1lII[ili1llII(0x18f)](I1I11Ill,cookiesArr[ili1llII(0x17d)]);I1I11Ill++){$[ili1llII(0x22d)]=Iill1lII[ili1llII(0x18c)](I1I11Ill,0x1),cookie=cookiesArr[I1I11Ill],originCookie=cookiesArr[I1I11Ill],$[ili1llII(0x1be)]=Iill1lII[ili1llII(0x168)](decodeURIComponent,common[ili1llII(0x221)](cookie,Iill1lII[ili1llII(0x163)])),$['UA']=common[ili1llII(0x1f4)]($[ili1llII(0x1be)]),$[ili1llII(0x25d)]='',console[ili1llII(0x1c0)](ili1llII(0x1ba)+$[ili1llII(0x22d)]+'„Äë'+($[ili1llII(0x25d)]||$[ili1llII(0x1be)])+ili1llII(0x252)),await Iill1lII[ili1llII(0x1cb)](Main);if($[ili1llII(0x1bf)])break;}})()[i1111Iii(0x17a)](ilII1i1l=>$[i1111Iii(0x21f)](ilII1i1l))[i1111Iii(0x1e5)](()=>$[i1111Iii(0x1db)]());async function Main(){const li1IIiiI=i1111Iii,i1il11I1={'rGZiY':li1IIiiI(0x1f0),'UCinT':function(IlIlii1I){return IlIlii1I();},'oJVTp':li1IIiiI(0x208),'VpxVy':function(Il11iIli,l1ill11l){return Il11iIli!=l1ill11l;},'PYmgk':li1IIiiI(0x166),'iNCMn':function(llIIlil,iIlil1l){return llIIlil==iIlil1l;},'KkUDI':li1IIiiI(0x1d7),'PbFDv':function(i1ili1i1,IIl1Il){return i1ili1i1(IIl1Il);},'ujTGZ':li1IIiiI(0x1a0),'NBkjS':li1IIiiI(0x1f5),'zhVri':li1IIiiI(0x1c1),'zTYyX':function(IliIIli1,I11iiIli,lIiI1li){return IliIIli1(I11iiIli,lIiI1li);},'HzCXx':li1IIiiI(0x22c),'vPSfb':function(iil1l1li,llI11li){return iil1l1li(llI11li);},'RmWRA':function(l1Illii1,Ii1lI1I1){return l1Illii1(Ii1lI1I1);},'bYAWV':li1IIiiI(0x20e),'SjtbQ':function(iiil1IIl,li11ilil){return iiil1IIl===li11ilil;},'yUbGn':li1IIiiI(0x22e),'JTZtw':li1IIiiI(0x199),'FPIDv':li1IIiiI(0x1d6),'mKtWn':function(IliIli1i,lIlil1lI){return IliIli1i(lIlil1lI);},'bxrwv':li1IIiiI(0x1ef),'QjfSe':li1IIiiI(0x18e),'AjaJn':function(Ii1l1iI,l1li11i1){return Ii1l1iI!==l1li11i1;},'HWmMP':li1IIiiI(0x233),'rqozQ':li1IIiiI(0x1ee),'dLVeu':li1IIiiI(0x17b),'xKRcK':li1IIiiI(0x226),'oIAkb':function(iiIll1iI,Ili1ll1){return iiIll1iI(Ili1ll1);},'Zojii':function(lllilIlI,l11l1){return lllilIlI(l11l1);},'Dckcl':li1IIiiI(0x23e),'YOtLr':li1IIiiI(0x1a2),'YZOpN':function(i1iil1l1,iII1I1Ii){return i1iil1l1(iII1I1Ii);},'oZHBD':li1IIiiI(0x18b),'jXost':li1IIiiI(0x16f),'XwoCK':li1IIiiI(0x23d)};try{$[li1IIiiI(0x18d)]=![],$[li1IIiiI(0x212)]=![],$[li1IIiiI(0x1cd)]='',activityCookie='';if($[li1IIiiI(0x18d)]||$[li1IIiiI(0x1bf)])return;$[li1IIiiI(0x244)]=i1il11I1[li1IIiiI(0x1f1)],$[li1IIiiI(0x1e7)]=i1il11I1[li1IIiiI(0x1e3)],$[li1IIiiI(0x1d0)]=$[li1IIiiI(0x1e7)],$[li1IIiiI(0x1eb)]=await i1il11I1[li1IIiiI(0x1f7)](getToken,originCookie,$[li1IIiiI(0x1e7)]);if(!$[li1IIiiI(0x1eb)]){console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x251)]);return;}await i1il11I1[li1IIiiI(0x24b)](getFirstLZCK,$[li1IIiiI(0x244)]),await $[li1IIiiI(0x167)](0x1f4),await i1il11I1[li1IIiiI(0x240)](takeRequest,i1il11I1[li1IIiiI(0x248)]);if($[li1IIiiI(0x1bf)])return;if(!$[li1IIiiI(0x1cd)]){if(i1il11I1[li1IIiiI(0x22b)](i1il11I1[li1IIiiI(0x1e4)],i1il11I1[li1IIiiI(0x1e4)])){console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x25e)]);return;}else i1iIIii1[li1IIiiI(0x24d)](Ii1III11[li1IIiiI(0x184)],i1il11I1[li1IIiiI(0x195)]),i1iI1lli[li1IIiiI(0x1bc)](0x1);}else i1il11I1[li1IIiiI(0x22b)](i1il11I1[li1IIiiI(0x1c9)],i1il11I1[li1IIiiI(0x1c9)])?($[li1IIiiI(0x1cd)]=i1il11I1[li1IIiiI(0x24b)](encodeURIComponent,$[li1IIiiI(0x1cd)]),$[li1IIiiI(0x194)]=!![],await $[li1IIiiI(0x167)](0x1f4),await i1il11I1[li1IIiiI(0x253)](takeRequest,i1il11I1[li1IIiiI(0x24c)]),$[li1IIiiI(0x194)]?console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x21d)]):i1il11I1[li1IIiiI(0x1fe)](i1il11I1[li1IIiiI(0x25b)],i1il11I1[li1IIiiI(0x185)])?console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x15e)]):IiIIi1i1[li1IIiiI(0x1c0)](l1I1lllI)):i1il11I1[li1IIiiI(0x1d4)](iliIiii);activityCookie='',$[li1IIiiI(0x1cd)]='',$[li1IIiiI(0x244)]=i1il11I1[li1IIiiI(0x1d8)],$[li1IIiiI(0x1e7)]=i1il11I1[li1IIiiI(0x1a9)],$[li1IIiiI(0x1d0)]=$[li1IIiiI(0x1e7)],await i1il11I1[li1IIiiI(0x217)](getFirstLZCK,$[li1IIiiI(0x244)]),await $[li1IIiiI(0x167)](0x1f4),await i1il11I1[li1IIiiI(0x260)](takeRequest,i1il11I1[li1IIiiI(0x248)]);if($[li1IIiiI(0x1bf)])return;if(!$[li1IIiiI(0x1cd)]){if(i1il11I1[li1IIiiI(0x1fe)](i1il11I1[li1IIiiI(0x190)],i1il11I1[li1IIiiI(0x25f)])){console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x25e)]);return;}else lI1ll111[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x15e)]);}else $[li1IIiiI(0x1cd)]=i1il11I1[li1IIiiI(0x242)](encodeURIComponent,i1il11I1[li1IIiiI(0x178)](encodeURIComponent,$[li1IIiiI(0x1cd)])),$[li1IIiiI(0x194)]=!![],await $[li1IIiiI(0x167)](0x1f4),await i1il11I1[li1IIiiI(0x242)](takeRequest,i1il11I1[li1IIiiI(0x24c)]),$[li1IIiiI(0x194)]?i1il11I1[li1IIiiI(0x1fe)](i1il11I1[li1IIiiI(0x1c5)],i1il11I1[li1IIiiI(0x1c5)])?(liIiilIi&&i1il11I1[li1IIiiI(0x1d2)](typeof II11lIil[li1IIiiI(0x227)],i1il11I1[li1IIiiI(0x220)])&&(i1il11I1[li1IIiiI(0x1a5)](II1I111[li1IIiiI(0x227)],0x1ed)&&l1lIlII[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x198)])),lIl1i1i[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x178)](Iii1iiIl,iiiI1I11)),l1I1i11i[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x268)])):console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x15a)]):console[li1IIiiI(0x1c0)](i1il11I1[li1IIiiI(0x172)]);await $[li1IIiiI(0x167)](0x1f4);}catch(iII1iii){console[li1IIiiI(0x1c0)](iII1iii);}}async function handleResponse(iili1i1i,i1l11l1i){const IlIl1iI1=i1111Iii,IliI1i={'AoIrC':function(liii1iIi,i11lII1I){return liii1iIi===i11lII1I;},'mdjOE':IlIl1iI1(0x1ae),'dfXLL':IlIl1iI1(0x235),'KVCam':IlIl1iI1(0x199),'rFbKy':function(iiiII1,iiIllI1I){return iiiII1==iiIllI1I;},'lvKYj':IlIl1iI1(0x1d7),'KKVdx':IlIl1iI1(0x20e),'HsqDe':function(lIIIIi11,lli1Ill1){return lIIIIi11===lli1Ill1;},'sqOtT':IlIl1iI1(0x1e1),'vcgjK':IlIl1iI1(0x1b0),'grQvn':IlIl1iI1(0x1ef),'OUhGV':function(i1lIill,l11i111){return i1lIill===l11i111;},'ocBGp':function(i111illl,i1lli111){return i111illl===i1lli111;},'ZnsOZ':IlIl1iI1(0x171),'AlPlZ':IlIl1iI1(0x202),'EVAuQ':IlIl1iI1(0x1f8)};try{switch(iili1i1i){case IliI1i[IlIl1iI1(0x1fa)]:if(i1l11l1i[IlIl1iI1(0x19d)]&&IliI1i[IlIl1iI1(0x20d)](i1l11l1i[IlIl1iI1(0x19d)],!![])){if(i1l11l1i?.[IlIl1iI1(0x18a)]?.[IlIl1iI1(0x1cd)])$[IlIl1iI1(0x1cd)]=i1l11l1i[IlIl1iI1(0x18a)][IlIl1iI1(0x1cd)];if(i1l11l1i?.[IlIl1iI1(0x18a)]?.[IlIl1iI1(0x160)])$[IlIl1iI1(0x160)]=i1l11l1i[IlIl1iI1(0x18a)][IlIl1iI1(0x160)];}else i1l11l1i[IlIl1iI1(0x177)]?IliI1i[IlIl1iI1(0x20d)](IliI1i[IlIl1iI1(0x15c)],IliI1i[IlIl1iI1(0x25c)])?IliI1i[IlIl1iI1(0x25a)](typeof ll1iIil1,IliI1i[IlIl1iI1(0x1bb)])&&IliI1i[IlIl1iI1(0x25a)](IIiIIIll,IliI1i[IlIl1iI1(0x205)])&&(l1IIlI1l[IlIl1iI1(0x194)]=![]):console[IlIl1iI1(0x1c0)](''+i1l11l1i[IlIl1iI1(0x177)]):console[IlIl1iI1(0x1c0)](''+iIiI1lIi);break;case IliI1i[IlIl1iI1(0x159)]:const iIiI1lIi=i1l11l1i?.[IlIl1iI1(0x18a)];if(i1l11l1i[IlIl1iI1(0x19d)]&&IliI1i[IlIl1iI1(0x25a)](i1l11l1i[IlIl1iI1(0x19d)],!![])){if(IliI1i[IlIl1iI1(0x267)](typeof iIiI1lIi,IliI1i[IlIl1iI1(0x1bb)])&&IliI1i[IlIl1iI1(0x20d)](iIiI1lIi,IliI1i[IlIl1iI1(0x205)])){if(IliI1i[IlIl1iI1(0x1c8)](IliI1i[IlIl1iI1(0x20b)],IliI1i[IlIl1iI1(0x1b5)])){iiillllI[IlIl1iI1(0x1c0)](IliI1i[IlIl1iI1(0x16e)]);return;}else $[IlIl1iI1(0x194)]=![];}}else i1l11l1i[IlIl1iI1(0x177)]?IliI1i[IlIl1iI1(0x1c8)](IliI1i[IlIl1iI1(0x1b6)],IliI1i[IlIl1iI1(0x1b6)])?IliI1i[IlIl1iI1(0x1c8)](typeof iIiI1lIi,IliI1i[IlIl1iI1(0x1bb)])&&IliI1i[IlIl1iI1(0x20d)](iIiI1lIi,IliI1i[IlIl1iI1(0x205)])?$[IlIl1iI1(0x194)]=![]:console[IlIl1iI1(0x1c0)](''+i1l11l1i[IlIl1iI1(0x177)]):IliI1i[IlIl1iI1(0x200)](llIilli[IlIl1iI1(0x227)],0x1ed)&&lIl1llIl[IlIl1iI1(0x1c0)](IliI1i[IlIl1iI1(0x161)]):console[IlIl1iI1(0x1c0)](iili1i1i+'\x20'+iIiI1lIi);break;}}catch(il1IIl1){console[IlIl1iI1(0x1c0)](IlIl1iI1(0x17f)+iili1i1i+IlIl1iI1(0x1a1)+(il1IIl1[IlIl1iI1(0x170)]||il1IIl1));}}async function takeRequest(ill1i11i){const Il11i1i1=i1111Iii,i1lIiIIi={'pOexE':Il11i1i1(0x199),'WuqLD':function(III1iII1,IlilliII){return III1iII1(IlilliII);},'IwNGK':Il11i1i1(0x197),'JdeHG':Il11i1i1(0x20e),'wvEHU':Il11i1i1(0x1ef),'dphPm':Il11i1i1(0x214),'xfghR':Il11i1i1(0x180),'TZolT':Il11i1i1(0x1ac),'NQNYF':Il11i1i1(0x191),'Jfkpr':Il11i1i1(0x1ce),'wCWoV':Il11i1i1(0x16a),'pEXWZ':function(lI1iilil,Iii1I1II){return lI1iilil<Iii1I1II;},'tUGaa':function(iIIi1i1i,I1l11lli){return iIIi1i1i>I1l11lli;},'fkREK':function(I11iI1II,lI1i1l1){return I11iI1II===lI1i1l1;},'QJqGG':Il11i1i1(0x23a),'oJSjo':Il11i1i1(0x1ea),'VQpzI':function(iiIIlIii,iil1i1lI,II1lIl11){return iiIIlIii(iil1i1lI,II1lIl11);},'fvACe':function(i1I1l1I,lillIl){return i1I1l1I===lillIl;},'xKzmd':Il11i1i1(0x1ae),'aDzrv':Il11i1i1(0x1ad),'SlhOh':function(ii1Il1i,lillllIi){return ii1Il1i===lillllIi;},'ZSDpd':Il11i1i1(0x1b3),'HPonM':function(lIii1IiI,IIlli1){return lIii1IiI!==IIlli1;},'fZpxB':Il11i1i1(0x15d),'YnNSH':Il11i1i1(0x207),'bnrDJ':function(Iiil1li1,IliIII1i){return Iiil1li1===IliIII1i;},'Pcafb':Il11i1i1(0x1a6),'wUXkQ':Il11i1i1(0x237),'zMWuy':Il11i1i1(0x164),'InEls':function(il1iilII,IlIiIill){return il1iilII===IlIiIill;},'Qocxk':function(iil1iIlI,i11illii){return iil1iIlI===i11illii;},'GXNsZ':Il11i1i1(0x204),'udSNa':Il11i1i1(0x23f),'TqjSs':Il11i1i1(0x224),'qwJVD':Il11i1i1(0x1c4),'nXPUH':function(l1l1lilI,iI1l11lI){return l1l1lilI(iI1l11lI);},'wvtUS':function(I1Il1ii,I1ililI){return I1Il1ii>=I1ililI;},'fjPeq':function(llll1ii,l1I1lilI){return llll1ii!==l1I1lilI;},'aRvgl':Il11i1i1(0x22f)};if($[Il11i1i1(0x1bf)])return;let llIlI1Ii='',iIii='',I1ilil1=i1lIiIIi[Il11i1i1(0x1bd)];switch(ill1i11i){case i1lIiIIi[Il11i1i1(0x1e9)]:llIlI1Ii=$[Il11i1i1(0x1e7)]+Il11i1i1(0x1f6),iIii=Il11i1i1(0x1a8)+$[Il11i1i1(0x1eb)]+Il11i1i1(0x183);break;case i1lIiIIi[Il11i1i1(0x22a)]:llIlI1Ii=$[Il11i1i1(0x1e7)]+Il11i1i1(0x1b9),iIii=Il11i1i1(0x1b8)+$[Il11i1i1(0x1cd)];break;default:console[Il11i1i1(0x1c0)](Il11i1i1(0x188)+ill1i11i);return;}const Il1l11I={'url':llIlI1Ii,'method':I1ilil1,'headers':{'Origin':$[Il11i1i1(0x1d0)],'Accept':i1lIiIIi[Il11i1i1(0x1e8)],'Accept-Encoding':i1lIiIIi[Il11i1i1(0x258)],'Accept-Language':i1lIiIIi[Il11i1i1(0x210)],'Connection':i1lIiIIi[Il11i1i1(0x24f)],'Content-Type':i1lIiIIi[Il11i1i1(0x1b4)],'Cookie':($[Il11i1i1(0x1cd)]?Il11i1i1(0x165)+$[Il11i1i1(0x1cd)]+';':'')+'\x20'+activityCookie,'User-Agent':$['UA'],'X-Requested-With':i1lIiIIi[Il11i1i1(0x259)],'Referer':$[Il11i1i1(0x244)]},'body':iIii,'timeout':0x7530},II1IIl1i=0x3;let il111111=0x0,IIili11I=null;while(i1lIiIIi[Il11i1i1(0x250)](il111111,II1IIl1i)){if(i1lIiIIi[Il11i1i1(0x182)](il111111,0x0)){if(i1lIiIIi[Il11i1i1(0x17e)](i1lIiIIi[Il11i1i1(0x246)],i1lIiIIi[Il11i1i1(0x218)])){il1I11[Il11i1i1(0x1c0)](i1lIiIIi[Il11i1i1(0x256)]);return;}else await $[Il11i1i1(0x167)](0x3e8);}const {err:IlIiIlli,res:lililIiI,data:llll1I11}=await i1lIiIIi[Il11i1i1(0x203)](sendRequest,Il1l11I,I1ilil1);if(IlIiIlli){if(i1lIiIIi[Il11i1i1(0x1dc)](typeof IlIiIlli,i1lIiIIi[Il11i1i1(0x176)])&&IlIiIlli[Il11i1i1(0x247)](i1lIiIIi[Il11i1i1(0x211)])){if(i1lIiIIi[Il11i1i1(0x1e6)](i1lIiIIi[Il11i1i1(0x1b2)],i1lIiIIi[Il11i1i1(0x1b2)]))IIili11I=ill1i11i+Il11i1i1(0x254);else{const lIIlilI={'WAwra':function(I11llill,II1iIIII){const I1I1i1ll=Il11i1i1;return i1lIiIIi[I1I1i1ll(0x16d)](I11llill,II1iIIII);}};return new I11iIIl(async I1ii1l=>{const llI1i11=Il11i1i1;il1ili1I[llI1i11(0x1aa)](li11Iii1,(IiIlIl,I1liIIlI,l1i1lI1i)=>{const ill1iII1=llI1i11;lIIlilI[ill1iII1(0x1ca)](I1ii1l,{'err':IiIlIl,'res':I1liIIlI,'data':l1i1lI1i});});});}}else{if(i1lIiIIi[Il11i1i1(0x23c)](i1lIiIIi[Il11i1i1(0x228)],i1lIiIIi[Il11i1i1(0x1af)])){const Ii1llil1=lililIiI?.[Il11i1i1(0x227)];if(Ii1llil1){if([0x193,0x1ed][Il11i1i1(0x247)](Ii1llil1)){if(i1lIiIIi[Il11i1i1(0x230)](i1lIiIIi[Il11i1i1(0x20c)],i1lIiIIi[Il11i1i1(0x20c)])){IIili11I=ill1i11i+Il11i1i1(0x186)+Ii1llil1+'Ôºâ';break;}else llIliiiI[Il11i1i1(0x1c0)](''+IIi11l11[Il11i1i1(0x177)]);}else{if([0x190,0x194][Il11i1i1(0x247)](Ii1llil1)){IIili11I=ill1i11i+Il11i1i1(0x255)+Ii1llil1+'Ôºâ';break;}else{if(i1lIiIIi[Il11i1i1(0x230)](i1lIiIIi[Il11i1i1(0x243)],i1lIiIIi[Il11i1i1(0x1dd)]))illilII1[Il11i1i1(0x21f)](li11i1i,Ii11I1i1);else{IIili11I=ill1i11i+Il11i1i1(0x20a)+Ii1llil1+'Ôºâ';break;}}}}else IIili11I=ill1i11i+Il11i1i1(0x1a4)+(IlIiIlli[Il11i1i1(0x170)]||IlIiIlli);}else IIIIiIl[Il11i1i1(0x1c0)](Il11i1i1(0x17f)+l1IlI1i+Il11i1i1(0x1a1)+(l11Illli[Il11i1i1(0x170)]||ii1ii1));}il111111++;}else{if(i1lIiIIi[Il11i1i1(0x241)](lililIiI?.[Il11i1i1(0x227)],0xc8)){activityCookie=common[Il11i1i1(0x175)](lililIiI,activityCookie);try{const i1liili=JSON[Il11i1i1(0x1ed)](llll1I11);i1lIiIIi[Il11i1i1(0x203)](handleResponse,ill1i11i,i1liili);break;}catch(lliIi11l){i1lIiIIi[Il11i1i1(0x1ff)](i1lIiIIi[Il11i1i1(0x261)],i1lIiIIi[Il11i1i1(0x262)])?(Iil1l1iI=i1lIliI1[Il11i1i1(0x175)](iIliiIii,iiIi1iII),iIIil1II[Il11i1i1(0x18d)]=![]):(IIili11I=Il11i1i1(0x1b1)+ill1i11i+Il11i1i1(0x19f)+lliIi11l[Il11i1i1(0x170)],console[Il11i1i1(0x1c0)](i1lIiIIi[Il11i1i1(0x16d)](String,llll1I11)),il111111++);}break;}else i1lIiIIi[Il11i1i1(0x23c)](i1lIiIIi[Il11i1i1(0x266)],i1lIiIIi[Il11i1i1(0x173)])?(IIili11I=ill1i11i+Il11i1i1(0x1f2),llll1I11&&console[Il11i1i1(0x1c0)](i1lIiIIi[Il11i1i1(0x21e)](String,llll1I11)),il111111++):IIlll1l[Il11i1i1(0x1c0)](llli11ii+'\x20'+lll1iI1i);}}i1lIiIIi[Il11i1i1(0x213)](il111111,II1IIl1i)&&(i1lIiIIi[Il11i1i1(0x196)](i1lIiIIi[Il11i1i1(0x15b)],i1lIiIIi[Il11i1i1(0x15b)])?(II111liI=Il11i1i1(0x1b1)+IiIl1ll+Il11i1i1(0x19f)+iI11li1l[Il11i1i1(0x170)],IIliIili[Il11i1i1(0x1c0)](i1lIiIIi[Il11i1i1(0x16d)](iiI11ill,il11iiIi)),llil1i++):($[Il11i1i1(0x1bf)]=!![],console[Il11i1i1(0x1c0)](IIili11I)));}async function sendRequest(IIIiii1l,IlI1l111=i1111Iii(0x197)){const IIiii1l1=i1111Iii,i1ii11ll={'uhOVQ':function(lIIIllI1,IiilIl){return lIIIllI1(IiilIl);},'iEfkN':function(lIlI1l,illili11){return lIlI1l===illili11;},'BOeLl':IIiii1l1(0x197),'xkpbY':function(IlII1Ill,llI1IIIi){return IlII1Ill===llI1IIIi;},'VZMNa':IIiii1l1(0x1df),'UENUF':function(i1lIllii,ili11iii){return i1lIllii!==ili11iii;},'DTMaA':IIiii1l1(0x16c),'CsKJR':IIiii1l1(0x169),'LxbkZ':IIiii1l1(0x1ec)};if(i1ii11ll[IIiii1l1(0x19e)](IlI1l111,i1ii11ll[IIiii1l1(0x24a)]))return new Promise(async i1i1Ii1l=>{const IIi11I=IIiii1l1,ll1III={'ISiAA':function(i1IIilI1,lI1lIiil){const IIIlIill=iiIilll;return i1ii11ll[IIIlIill(0x1fc)](i1IIilI1,lI1lIiil);}};$[IIi11I(0x1aa)](IIIiii1l,(iIl11Il1,ili1ii,I11l1il)=>{const ilII11I=IIi11I;ll1III[ilII11I(0x1c2)](i1i1Ii1l,{'err':iIl11Il1,'res':ili1ii,'data':I11l1il});});});else{if(i1ii11ll[IIiii1l1(0x192)](IlI1l111,i1ii11ll[IIiii1l1(0x1d5)])){if(i1ii11ll[IIiii1l1(0x189)](i1ii11ll[IIiii1l1(0x236)],i1ii11ll[IIiii1l1(0x1cf)]))return new Promise(async liIlI1il=>{const I11lIiil=IIiii1l1;$[I11lIiil(0x162)](IIIiii1l,(lII11Iil,IIiil1I1,lIlliiii)=>{const lIlllIli=I11lIiil;i1ii11ll[lIlllIli(0x1fc)](liIlI1il,{'err':lII11Iil,'res':IIiil1I1,'data':lIlliiii});});});else i1I1I11I[IIiii1l1(0x1c0)](''+iililli1);}else{const i1IlIl=i1ii11ll[IIiii1l1(0x234)];return{'err':i1IlIl,'res':null,'data':null};}}}function getFirstLZCK(i1i1I1Ii){const IiIii1lI=i1111Iii,l1lI1Iii={'ITCrJ':function(liii11l,ll1Iilll){return liii11l(ll1Iilll);},'zwRcN':IiIii1lI(0x1d7),'vYVri':function(IIi1iIIi,l1lIili){return IIi1iIIi!==l1lIili;},'AHtal':IiIii1lI(0x1d3),'lxdWI':IiIii1lI(0x1b7),'IWVqh':function(IiIIi1I1,iI1IIiIi){return IiIIi1I1!=iI1IIiIi;},'WwwiC':IiIii1lI(0x166),'pagcb':function(IIii1II1,i11lIl1i){return IIii1II1==i11lIl1i;},'nJMsM':function(i1i1II1l,ill1II11){return i1i1II1l(ill1II11);},'QwKyp':IiIii1lI(0x1a0),'VofWx':function(illl1l1I,IlI1iIlI){return illl1l1I===IlI1iIlI;},'kDnqd':IiIii1lI(0x229),'RfSeJ':function(iI1Ii11I,IIi1Ii1i){return iI1Ii11I==IIi1Ii1i;},'EYyYe':function(i1IllII1,lliIIil1){return i1IllII1===lliIIil1;},'oMajW':IiIii1lI(0x1d1),'rIygs':IiIii1lI(0x1a3),'TKLcH':function(ilIlii1l,ll11iIII){return ilIlii1l!==ll11iIII;},'iVKYq':IiIii1lI(0x193),'yDaqu':IiIii1lI(0x239),'aSQvM':IiIii1lI(0x206),'JERGS':function(I1lil1li){return I1lil1li();},'WmggW':function(llliIi1I,I111li11){return llliIi1I(I111li11);},'LIeCD':IiIii1lI(0x179),'rFijG':IiIii1lI(0x180),'ydAHg':IiIii1lI(0x222),'nmVXl':IiIii1lI(0x191),'jLNoV':IiIii1lI(0x1ce)};return $[IiIii1lI(0x18d)]=!![],new Promise(Il1ll=>{const Il1IIii=IiIii1lI,iil11l1i={'DzTZO':function(liilIiI,lIlIIlII){const illlIlli=iiIilll;return l1lI1Iii[illlIlli(0x265)](liilIiI,lIlIIlII);}};let l1iI1IiI={'url':i1i1I1Ii,'headers':{'Accept':l1lI1Iii[Il1IIii(0x225)],'Accept-Encoding':l1lI1Iii[Il1IIii(0x21b)],'Accept-Language':l1lI1Iii[Il1IIii(0x201)],'Connection':l1lI1Iii[Il1IIii(0x1e2)],'Content-Type':l1lI1Iii[Il1IIii(0x1a7)],'Referer':i1i1I1Ii,'User-Agent':$['UA']},'timeout':0x7530};$[Il1IIii(0x162)](l1iI1IiI,async(i1iilil1,IlllI1li,lIlll1I1)=>{const iiliilIi=Il1IIii,lilIIi1I={'xfLzd':function(i1l1illI,llI1lIiI){const IIIlliil=iiIilll;return l1lI1Iii[IIIlliil(0x19b)](i1l1illI,llI1lIiI);},'jGFTM':l1lI1Iii[iiliilIi(0x19c)]};if(l1lI1Iii[iiliilIi(0x157)](l1lI1Iii[iiliilIi(0x1cc)],l1lI1Iii[iiliilIi(0x1c3)]))try{if(i1iilil1)IlllI1li&&l1lI1Iii[iiliilIi(0x23b)](typeof IlllI1li[iiliilIi(0x227)],l1lI1Iii[iiliilIi(0x1fb)])&&(l1lI1Iii[iiliilIi(0x187)](IlllI1li[iiliilIi(0x227)],0x1ed)&&console[iiliilIi(0x1c0)](l1lI1Iii[iiliilIi(0x19c)])),console[iiliilIi(0x1c0)](l1lI1Iii[iiliilIi(0x1de)](String,i1iilil1)),console[iiliilIi(0x1c0)](l1lI1Iii[iiliilIi(0x249)]);else{if(l1lI1Iii[iiliilIi(0x158)](l1lI1Iii[iiliilIi(0x238)],l1lI1Iii[iiliilIi(0x238)])){if(l1lI1Iii[iiliilIi(0x15f)](IlllI1li[iiliilIi(0x17c)],0xc8)){if(l1lI1Iii[iiliilIi(0x21a)](l1lI1Iii[iiliilIi(0x1f3)],l1lI1Iii[iiliilIi(0x16b)])){const I11I1IIl={'zgCwD':function(ilIillIl,IIiii1l){const ii1l1IIi=iiliilIi;return lilIIi1I[ii1l1IIi(0x231)](ilIillIl,IIiii1l);}};return new Ilii1l1I(async liIiI11l=>{const II1lIlII=iiliilIi;I11Il1II[II1lIlII(0x162)](i1IiIl1I,(i1li11lI,lIIlii1l,IiIli1ii)=>{const IiIii1ll=II1lIlII;I11I1IIl[IiIii1ll(0x24e)](liIiI11l,{'err':i1li11lI,'res':lIIlii1l,'data':IiIli1ii});});});}else activityCookie=common[iiliilIi(0x175)](IlllI1li,activityCookie),$[iiliilIi(0x18d)]=![];}}else i11lllIi[iiliilIi(0x1c0)](lilIIi1I[iiliilIi(0x1c7)]);}}catch(iI111IlI){l1lI1Iii[iiliilIi(0x174)](l1lI1Iii[iiliilIi(0x1c6)],l1lI1Iii[iiliilIi(0x245)])?$[iiliilIi(0x21f)](iI111IlI,IlllI1li):IlI1IiI[iiliilIi(0x1c0)](iil11l1i[iiliilIi(0x209)](lIllIill,i1Il1iil));}finally{l1lI1Iii[iiliilIi(0x158)](l1lI1Iii[iiliilIi(0x20f)],l1lI1Iii[iiliilIi(0x20f)])?l1lI1Iii[iiliilIi(0x1e0)](Il1ll):i11liilI=i11Il11l+iiliilIi(0x1a4)+(iII1IIii[iiliilIi(0x170)]||iliiIiIl);}else li1lIl1i=lllI1ll1+iiliilIi(0x254);});});}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
